---
layout: post
comments: true
title : SQL (MariaDB, MySQL) [KOR]
categories: [Practice]
---


<html>									<!-- html 의 시작 -->
	<head>										<!-- head 의시작 -->
		<meta charset="utf-8"> 							<!-- 한국어 지원 --> 

	</head>										<!-- head 끝 -->
	<body>


		<center><span style="font-weight:bold;font-size:2.3em;line-height:3.0em;color:navy;">SQL 기초 (Start with MariaDB)</span></center>						
		<center><span style="font-weight:bold;font-size:1em;line-height:1.0em;">Editted by YoungJin Kang</span></center>
		<br><br><br>
		<hr>


<ol type='1'>
    <li><a href="#테이블의 생성과 수정" style="color:Purple"><h3>테이블의 생성과 수정</h3></a>
        <ul>
            <li><a href="#테이블 생성" style="color:brown">테이블 생성</a></li>
            <li><a href="#MySQL Client로 테이블 생성" style="color:brown">MySQL Client로 테이블 생성</a></li>
            <li><a href="#test 테이블로 간단한 연습" style="color:brown">test 테이블로 간단한 연습</a></li>
        </ul>
    </li>
    <li><a href="#테이블의 출력 (SELECT)" style="color:Purple"><h3>테이블의 출력 (SELECT)</h3></a>
        <ul>
            <li><a href="#SELECT" style="color:brown">SELECT</a></li>
            <li><a href="#WHERE" style="color:brown">WHERE</a></li>
            <li><a href="#단일행 함수" style="color:brown">단일행 함수</a></li>
            <li><a href="#조건 표현식" style="color:brown">조건 표현식</a></li>
            <li><a href="#복수행 함수" style="color:brown">복수행 함수</a></li>
        </ul>
    </li>
    <li><a href="#SQL 문법 - Join" style="color:Purple"><h3>SQL 문법 - Join</h3></a>
		<ul>
            <li><a href="#Join" style="color:brown">Join</a></li>
            <li><a href="#subquery" style="color:brown">subquery</a></li>
        </ul>
    </li>
    <li><a href="#데이터베이스" style="color:Purple"><h3>데이터베이스</h3></a>
        <ul>
            <li><a href="#Database Transaction" style="color:brown">Database Transaction</a></li>
            <li><a href="#view file" style="color:brown">view file</a></li>
            <li><a href="#계정 (사용자)" style="color:brown">계정 (사용자)</a></li>
            <li><a href="#Stored procedure (저장 프로시저)" style="color:brown">Stored procedure (저장 프로시저)</a></li>
        </ul>
    </li>
</ol>






		<center><span style="font-weight:bold;line-height: 5ex;color:navy;font-size: 2em"> 0. 시작</span></center>

		<p>
			<center><h3><span style="line-height: 7ex;color:green"> DBMS (Database Management System) : 데이터베이스 관리 시스템, 소프트웨어 </span></h3></center>
			MariaDB는 DBMS의 일종으로 MariaDB사에서 제작한 툴이다.<br>
			그 외 DBMS : MySQL, PostgreSQL, Oracle, SQL Server, DB2, Access, SQLite 
		</p>

		<p>
			<center><h3><span style="line-height: 7ex;color:green"> 데이터베이스의 유형 </span></h3></center>
			<span style="font-weight:bold;">- 계층형 (Hierarchical) :</span> 트리 형태, 1:N 관계, 검색이 빠르나 접근의 유연성 부족<br>
			<span style="font-weight:bold;">- 망형 (Network) : </span> 계층형 문제점 개선, 1:1 1:N N:M 관계, 복잡<br>
			<span style="font-weight:bold;">- 관계형 (Relational) : </span> 테이블 형태, 유지보수 편리, 그러나 시스템 자원 많이 차지<br>
			<span style="font-weight:bold;">- 객체지향형 (Object-Oriented) </span> <br>
			<span style="font-weight:bold;">- 객체관계형 (Object-Relational)</span> <br><br>
			<span style="color: red">  SQL은 관계형 데이터베이스에서 사용되는 언어이다.</span>
		</p>

		<p>
			<center><h3><span style="line-height: 7ex;color:green"> 정규화 (DB normalization) </span></h3></center>

			<span style="font-weight:bold;">(1) 제1정규형 (1NF = 1 Nomal Form)</span><br>
			 - 중복되는 항목이 없어야 한다 (도메인이 원자값만으로 되어 있어야 함)<br><br>
			<span style="font-weight:bold;">(2) 제2정규형 (2NF)</span><br>
			 - 부분 함수적 종속 관계를 제거해야 함<br><br>
			<span style="font-weight:bold;">(3) 제3정규형 (3NF)</span><br>
			 - 이행 함수적 종속 (x -> y ->z) 제거<br><br>
			<span style="font-weight:bold;">(4) BC(Boyce-codd) 정규형 (BCNF)</span><br>
			 - 결정자이면서 후보키가 아닌 것 제거<br><br>
			<span style="font-weight:bold;">(5) 제4정규형</span><br>
			 - 다치 종속 제거<br><br>
			<span style="font-weight:bold;">(6) 제5정규형</span><br>
			 - 조인 종속성 이용<br><br><br>
		</p>
		<hr>

		<center><a name = '테이블의 생성과 수정'><span style="font-weight:bold;line-height: 5ex;color:navy;font-size: 2em"> 1. 테이블의 생성과 수정</span></a></center>
		
		<p>
			<center><a name = '테이블 생성'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.2em;">테이블 생성</span></a></center>

<span style="font-size:1.1em ">
<pre class="hljs" style="color: rgb(169, 183, 198); background: rgb(40, 43, 46); display: block; overflow-x: auto; padding: 0.5em;"><span class="hljs-comment" style="color: grey;">-- 형식) create table 테이블명 (칼럼명 자료형, ...constraint)</span>
<span class="hljs-keyword" style="color: rgb(204, 120, 50);">CREATE</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">TABLE</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">test</span>(<span class="hljs-keyword" style="color: rgb(204, 120, 50);">NO</span> <span class="hljs-built_in">INT</span>, <span class="hljs-keyword" style="color: rgb(204, 120, 50);">NAME</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number" style="color: rgb(104, 151, 187);">10</span>))<span class="hljs-keyword" style="color: rgb(204, 120, 50);">CHARSET</span>=UTF8;

<span class="hljs-comment" style="color: grey;">-- 데이터 입력</span>
<span class="hljs-keyword" style="color: rgb(204, 120, 50);">INSERT</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">INTO</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">test</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">VALUES</span>(<span class="hljs-number" style="color: rgb(104, 151, 187);">1</span>,<span class="hljs-string" style="color: rgb(106, 135, 89);">'홍길동'</span>);

<span class="hljs-comment" style="color: grey;">-- 데이터 출력</span>
<span class="hljs-keyword" style="color: rgb(204, 120, 50);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(204, 120, 50);">FROM</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">test</span>;  

<span class="hljs-comment" style="color: grey;">-- 테이블의 구조 확인</span>
<span class="hljs-keyword" style="color: rgb(204, 120, 50);">DESCRIBE</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">test</span>; 	

<span class="hljs-comment" style="color: grey;">-- 현재 DB에 있는 table 정보 조회</span>
<span class="hljs-keyword" style="color: rgb(204, 120, 50);">SHOW</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">TABLE</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">STATUS</span>; 	

<span class="hljs-comment" style="color: grey;">-- 테이블 삭제</span>
<span class="hljs-keyword" style="color: rgb(204, 120, 50);">DROP</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">TABLE</span> <span class="hljs-keyword" style="color: rgb(204, 120, 50);">test</span>;</pre></span>
		</p><br>

		<p>
			<center><a name = 'MySQL Client로 테이블 생성'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.2em;">MySQL Client로 테이블 생성</span></a></center>
			<img src="https://kyjmath.github.io/assets/Emogi/sql1.jpg" width="50%" height=auto><img src="https://kyjmath.github.io/assets/Emogi/sql2.jpg" width="50%" height=auto><img src="https://kyjmath.github.io/assets/Emogi/sql3.jpg" width="50%" height=auto><img src="https://kyjmath.github.io/assets/Emogi/sql4.jpg" width="50%" height=auto>
		</p><br>

		<p>
		<center><a name = 'test 테이블로 간단한 연습'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.2em;">test 테이블로 간단한 연습</span></a></center>	

<span style="font-size:1.1em ">
<span style="line-height:2.0em;font-size: 1em;color:skyblue">자료 추가 형식 :</span> <span style="line-height:2.0em;font-size: 0.9em;">insert into 테이블명(칼럼명,...) values(입력값,...)</span>
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);">
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>(<span class="hljs-keyword" style="color: rgb(157, 0, 6);">no</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">name</span>,tel,inwon,addr) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'인사과'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'111-1111'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'5'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'삼성동'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'영업과'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'222-1111'</span>,<span class="hljs-number" style="color: rgb(143, 63, 113);">12</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'역삼동'</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 칼럼과 순서와 갯수가 맞으면 안넣어도 된다.</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>(<span class="hljs-keyword" style="color: rgb(157, 0, 6);">no</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NAME</span>) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">3</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'자재과'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>(<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NAME</span>,inwon,tel) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">4</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'자재2과'</span>,<span class="hljs-number" style="color: rgb(143, 63, 113);">3</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'333-1111'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>(<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NAME</span>, <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span>) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-string" style="color: rgb(121, 116, 14);">'자재3과'</span>,<span class="hljs-number" style="color: rgb(143, 63, 113);">5</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>;

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- Error 발생</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>(<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NAME</span>) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">3</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'자재4과'</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- err : no는 중복 자료 불가. primary key 때문</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>(<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span>,addr) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">6</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'서초'</span>);     <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- err : name은 NOT NULL 이기 때문</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">6</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'서초'</span>);			     	<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- err : 칼럼의 순서, 갯수가 일치하지 않음</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>(<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NAME</span>) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">6</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'우리회사에서 가장 우수한 직원들만 있는 과'</span>) <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- err : name은 10자리까지만 허용</span>

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>; <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 1번 자료만 출력해줘 </span></pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">자료 수정 형식 :</span> <span style="line-height:2.0em;font-size: 0.9em;">update 테이블명 set 칼럼명 = 수정값, 칼럼명 = 수정값,.... where 조건</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">UPDATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SET</span> intwon = <span class="hljs-number" style="color: rgb(143, 63, 113);">7</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">UPDATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SET</span> intwon = <span class="hljs-number" style="color: rgb(143, 63, 113);">8</span>, tel = <span class="hljs-string" style="color: rgb(121, 116, 14);">'333-3333'</span>, addr = <span class="hljs-string" style="color: rgb(121, 116, 14);">'역삼 1동'</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">3</span>;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">UPDATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SET</span> intwon = <span class="hljs-literal" style="color: rgb(143, 63, 113);">NULL</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>; <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- null값을 제공</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">UPDATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SET</span> addr = <span class="hljs-string" style="color: rgb(121, 116, 14);">''</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>; <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 공백이 존재</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">UPDATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SET</span> addr = <span class="hljs-literal" style="color: rgb(143, 63, 113);">NULL</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>;

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>; 
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">UPDATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SET</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">name</span> = <span class="hljs-literal" style="color: rgb(143, 63, 113);">NULL</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>; <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- err name은 not null이라서 안된다.</span></pre></span><br>



		<span style="line-height:2.0em;font-size: 1em;color:skyblue">자료 삭제 형식 :</span> <span style="line-height:2.0em;font-size: 0.9em;">delete from 테이블명 where 조건</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">DELETE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NO</span> = <span class="hljs-number" style="color: rgb(143, 63, 113);">1</span> ;  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 부분적인 행 또는 전체 행 삭제</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">TRUNCATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>; <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 전체 data 삭제</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>;
DESC test;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">DROP</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">test</span>; <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- table 삭제</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SHOW</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLES</span>;</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">기본키 제약조건 :</span> <span style="line-height:2.0em;font-size: 0.9em;">Primary Key - 중복레코드 방지, null 허용X, 칼럼 1개만 부여 가능</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 방법1</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa(bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">5</span>) PRIMARY <span class="hljs-keyword" style="color: rgb(157, 0, 6);">KEY</span> , irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>)); <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- bun = pk, 중복X, null X</span>
DESC aa;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'tom'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'james'</span>); <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- error</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa(bun) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa(irum) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-string" style="color: rgb(121, 116, 14);">'john'</span>); <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- error : 번호(pk)도 포함되어야함</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> aa;

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> information_schema.table_constraints <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> TABLE_NAME=<span class="hljs-string" style="color: rgb(121, 116, 14);">'aa'</span>; <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- aa table의 제약조건 확인</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">DROP</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa;

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 방법2</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa(bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">5</span>), irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>), <span class="hljs-keyword" style="color: rgb(157, 0, 6);">CONSTRAINT</span> aa_bun_pk PRIMARY <span class="hljs-keyword" style="color: rgb(157, 0, 6);">KEY</span>(bun)); <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- aa_bun_pk라고 primary key에다가 이름을 인위적으로 부여가능</span>
DESC aa;</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">Check 제약조건 :</span> <span style="line-height:2.0em;font-size: 0.9em;">입력되는 자료의 특정 칼럼값 제한조건 </span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa(bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>, irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>), nai <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">CHECK</span>(nai &gt;= <span class="hljs-number" style="color: rgb(143, 63, 113);">20</span>)); <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 나이의 조건 추가</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'tom'</span>, <span class="hljs-number" style="color: rgb(143, 63, 113);">23</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> aa;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'tom2'</span>,<span class="hljs-number" style="color: rgb(143, 63, 113);">13</span>); <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- error : 나이가 20이 안넘음</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">ADD</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">CONSTRAINT</span> ck_name <span class="hljs-keyword" style="color: rgb(157, 0, 6);">CHECK</span>(irum <span class="hljs-keyword" style="color: rgb(157, 0, 6);">IN</span>(<span class="hljs-string" style="color: rgb(121, 116, 14);">'tom'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'john'</span>));  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 이미 만들어진 테이블에 대해 조건 추가</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">DROP</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa;</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">unique 제약조건 :</span> <span style="line-height:2.0em;font-size: 0.9em;">특정칼럼의 동일한 값 입력 불허 </span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa(bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>, irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">UNIQUE</span>);
DESC aa;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'tom'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'tom'</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- error : 중복 오류</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'james'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> aa;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">DROP</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa;</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">default 제약조건 :</span> <span style="line-height:2.0em;font-size: 0.9em;">특정 칼럼에 초기값 부여</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa(bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>, irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>), juso <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">50</span>)); 
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">COLUMN</span> juso <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SET</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">DEFAULT</span> <span class="hljs-string" style="color: rgb(121, 116, 14);">'seoul'</span>;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'tom'</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'서초1동'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa(bun,irum) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'john'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> aa;</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">외부키 (참조키, foreign key) 제약조건 :</span> <span style="line-height:2.0em;font-size: 0.9em;">다른 테이블의 칼럼값을 참조. fk 대상은 pk로 한다(중복없는 칼럼)</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- sawon 테이블 생성</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> sawon(bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span> PRIMARY <span class="hljs-keyword" style="color: rgb(157, 0, 6);">KEY</span>, irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>), buser <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>))<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CHARSET</span>=UTF8;

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> sawon <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'한송이'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'인사과'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> sawon <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'박치기'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'인사과'</span>);

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- sawon 테이블의 bun 을참조하여 테이블 생성</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> gajok(CODE <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span> PRIMARY <span class="hljs-keyword" style="color: rgb(157, 0, 6);">KEY</span>, <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NAME</span> <span class="hljs-built_in" style="color: rgb(7, 102, 120);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>), birth DATETIME, sawon_bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>, 
FOREIGN <span class="hljs-keyword" style="color: rgb(157, 0, 6);">KEY</span>(sawon_bun) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">REFERENCES</span> sawon(bun))<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CHARSET</span>=UTF8;  

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> gajok <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">100</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'지구인'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'2000-01-01'</span>,<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> gajok <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">200</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'가나다'</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NOW</span>(),<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- NOW()는 현재 컴퓨터 시간</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> gajok <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">300</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'마당쇠'</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NOW</span>(),<span class="hljs-number" style="color: rgb(143, 63, 113);">5</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- ERROR : 5번 직원이 없음</span>

DESC gajok;   <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- MUL이라고 나와있는게 참조되고 있다는 뜻 </span>

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- ERROR</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">DELETE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> sawon <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> bun=<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>;  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 가족 테이블에서 1번 직원 참조중이라서 못지움</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">DROP</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> sawon;  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 가족테이블에서 참조중이라서 못지움</span>

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- on delete cascade 부모 테이블의 행이 삭제되는 경우 자식 테이블의 종속행을 함께 삭제</span></pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">칼럼값 자동증가 :</span> <span style="line-height:2.0em;font-size: 0.9em;">auto_increment (Oracle 에서는 없음. 대신에 sequence객체 사용)</span>		

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa(bun <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span> auto_increment PRIMARY <span class="hljs-keyword" style="color: rgb(157, 0, 6);">KEY</span>, irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>), juso <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">20</span>) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">DEFAULT</span> <span class="hljs-string" style="color: rgb(121, 116, 14);">'여의도동'</span>)<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CHARSET</span>=UTF8;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa(bun,irum) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'한국인'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa(irum) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-string" style="color: rgb(121, 116, 14);">'이기자'</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- int 자동증가 </span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa(irum, juso) <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-string" style="color: rgb(121, 116, 14);">'이겨라'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'역삼동'</span>);

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">6</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'경민'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'역삼1동'</span>);
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-literal" style="color: rgb(143, 63, 113);">null</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'고길동'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'역삼2동'</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- bun = 7 이됨</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">0</span>, <span class="hljs-string" style="color: rgb(121, 116, 14);">'신길동'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'역삼3동'</span>);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- bun = 8 이됨 </span>

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa AUTO_INCREMENT = <span class="hljs-number" style="color: rgb(143, 63, 113);">100</span>;  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- bun이 100부터 시작함</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">0</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'사오정'</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'역삼3동'</span>);</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">index(색인) :</span> <span style="line-height:2.0em;font-size: 0.9em;">검색속도를 증진시키기 위해 칼럼에 색인 부여</span><br>
		<span style="line-height:1.8em;font-size: 0.9em;"><b>사용해야 하는 경우 :</b> 레코드 수가 많을 때, NULL을 많이 포함하고 있는 칼럼, WHERE 조건이 빈번한 경우</span><br>
		<span style="line-height:1.8em;font-size: 0.9em;"><b>자제해야 하는 경우 :</b> 입력, 수정, 삭제가 자주 있는 테이블</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INDEX</span> ind_irum <span class="hljs-keyword" style="color: rgb(157, 0, 6);">ON</span> aa(irum);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- aa 테이블의 irum 칼럼에 index 추가</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">ADD</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INDEX</span> ind_juso (juso);  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- aa 테이블의 juso 칼럼에 index 추가</span>

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SHOW</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INDEX</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> aa;  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- index 확인</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">EXPLAIN</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> aa;  <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 실행계획 확인</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">EXPLAIN</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(157, 0, 6);">FROM</span> aa <span class="hljs-keyword" style="color: rgb(157, 0, 6);">WHERE</span> irum=<span class="hljs-string" style="color: rgb(121, 116, 14);">'이기자'</span>;</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">now(), sysdate() :</span> <span style="line-height:2.0em;font-size: 0.9em;">now는 입력받을때의 시간, sysdate는 출력할때의 시간(여러개 출력시 딜레이 있음)</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"><span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NOW</span>();
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SYSDATE</span>();
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NOW</span>(), <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SLEEP</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>), <span class="hljs-keyword" style="color: rgb(157, 0, 6);">NOW</span>();
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">SELECT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SYSDATE</span>(), <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SLEEP</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>), <span class="hljs-keyword" style="color: rgb(157, 0, 6);">SYSDATE</span>();

<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CREATE</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> abc(irum <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span> PRIMARY <span class="hljs-keyword" style="color: rgb(157, 0, 6);">KEY</span>, author <span class="hljs-built_in" style="color: rgb(7, 102, 120);">CHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">10</span>), bwrite DATETIME)<span class="hljs-keyword" style="color: rgb(157, 0, 6);">CHARSET</span>=UTF8;
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> abc <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">1</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'aaa'</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">NOW</span>());
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">INSERT</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">INTO</span> abc <span class="hljs-keyword" style="color: rgb(157, 0, 6);">VALUES</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">2</span>,<span class="hljs-string" style="color: rgb(121, 116, 14);">'bbb'</span>,<span class="hljs-keyword" style="color: rgb(157, 0, 6);">sysdate</span>());</pre></span><br>


		<span style="line-height:2.0em;font-size: 1em;color:skyblue">테이블 관련, 칼럼 관련 명령</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; background: rgb(251, 241, 199); color: rgb(60, 56, 54);"> <span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 테이블 이름 바꾸기</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> abc <span class="hljs-keyword" style="color: rgb(157, 0, 6);">RENAME</span> kbs; 

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 칼럼 추가</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> abc <span class="hljs-keyword" style="color: rgb(157, 0, 6);">ADD</span>(job_id <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">6</span>)); 

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 칼럼 이름 바꾸기</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> abc <span class="hljs-keyword" style="color: rgb(157, 0, 6);">CHANGE</span> job_id job_num <span class="hljs-built_in" style="color: rgb(7, 102, 120);">INT</span>;  

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 칼럼의 타입을 int 에서 varchar로 바꾸었다</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> abc <span class="hljs-keyword" style="color: rgb(157, 0, 6);">MODIFY</span> job_num <span class="hljs-built_in" style="color: rgb(7, 102, 120);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(143, 63, 113);">5</span>);  

<span class="hljs-comment" style="color: rgb(146, 131, 116); font-style: italic;">-- 칼럼 삭제</span>
<span class="hljs-keyword" style="color: rgb(157, 0, 6);">ALTER</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">TABLE</span> abc <span class="hljs-keyword" style="color: rgb(157, 0, 6);">DROP</span> <span class="hljs-keyword" style="color: rgb(157, 0, 6);">column</span> job_num;  </pre></span><br><br><br>

		</p>
		<hr>





		<center><a name = '테이블의 출력 (SELECT)'><span style="font-weight:bold;line-height: 5ex;color:navy;font-size: 2em"> 2. 테이블의 출력 (SELECT)</span></a></center>
		<br><br>
		연습에 사용할 테이블 출저 : 에이* 아카데미 박*권 선생님 - 
		<a href="https://github.com/pykwon/etc/blob/master/sample_table_MariaDbl.txt" target="_blank">  데이터 복사 바로가기 </a><br><br>
		<a href="https://kyjmath.github.io/assets/Emogi/jikwon.jpg" style="color:grey">고객 테이블 이미지 바로보기</a><br>
		<a href="https://kyjmath.github.io/assets/Emogi/buser.jpg" style="color:grey">부서 테이블 이미지 바로보기</a><br>
		<a href="https://kyjmath.github.io/assets/Emogi/gogek.jpg" style="color:grey">고객 테이블 이미지 바로보기</a><br>
		<a href="https://kyjmath.github.io/assets/Emogi/sangpum.jpg" style="color:grey">상품 테이블 이미지 바로보기</a>

		<center><a name = 'SELECT'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">SELECT</span></a></center>
		<span style="line-height:2.0em;font-size: 1.1em;">SELECT [distinct ,,,] [db명.소유자명.테이블명] 칼럼명 [as 별명]...[into 테이블명] from 테이블명</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 모든 칼럼 모든 레코드 읽기</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon; 

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 일부 칼럼만 읽기(칼럼의 순서는 무관)</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 칼럼에 별명 주기(DB서버에는 이름이 바뀌지 않음)</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_no <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 사번, jikwon_name <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 이름 <span class="hljs-keyword" style="color: rgb(132, 100, 196);">from</span> jikwon;  
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_name <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 이름, jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 연봉, jikwon_pay*<span class="hljs-number" style="color: rgb(180, 90, 60);">0.02</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">as</span> 세금 <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 가상 테이블(DUAL)</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">10</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">12.5</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'안녕'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">12</span> + <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">12</span> - <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> DUAL;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 정렬 : 오름차순 (asc), 내림차순(desc)</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ORDER</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BY</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ASC</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- ASC 는 생략가능</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ORDER</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BY</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DESC</span>;
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ORDER</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BY</span> buser_num <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ASC</span>, jikwon_jik <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DESC</span>, jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DESC</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 여러개도 가능</span></pre></span><br>


		<center><a name = 'WHERE'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">WHERE</span></a></center>
		<span style="line-height:2.0em;font-size: 1.1em;">where 조건 ... order by 기준키 [asc, desc]...</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_jik = <span class="hljs-string" style="color: rgb(75, 139, 139);">'대리'</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 레코드 제한</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_no = <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">OR</span> jikwon_no = <span class="hljs-number" style="color: rgb(180, 90, 60);">10</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- or 로 특정데이터 보기</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_no != <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- != 과 &lt;&gt; 둘다 부정의 의미임</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_jik = <span class="hljs-string" style="color: rgb(75, 139, 139);">'사원'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AND</span> (jikwon_gen=<span class="hljs-string" style="color: rgb(75, 139, 139);">'여'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">OR</span> jikwon_ibsail &gt;=<span class="hljs-string" style="color: rgb(75, 139, 139);">'2017-01-01'</span>);
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_no <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BETWEEN</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AND</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">10</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- between 으로 범위 설정 가능</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_jik <span class="hljs-keyword" style="color: rgb(132, 100, 196);">IN</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'대리'</span>,<span class="hljs-string" style="color: rgb(75, 139, 139);">'과장'</span>,<span class="hljs-string" style="color: rgb(75, 139, 139);">'부장'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- in 연산</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">IS</span> <span class="hljs-literal" style="color: rgb(180, 90, 60);">NULL</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- NULL을 조건에 사용하려면 is 를 사용해야한다.</span>

# like 연산 : % (0개 이상의 문자열), _(한지점의 문자)
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_name <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIKE</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'이%'</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- '이' 로 시작하는 이름</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_name <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIKE</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'이%라'</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 이름이 두글자 이상</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_name <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIKE</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'이_라'</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 이름이 무조건 세글자</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> gogek <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> gogek_jumin <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIKE</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'%-1%'</span>;   <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 남자만 출력</span>

# limit 로 출력갯수 제한 걸기
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIMIT</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 처음부터 5행 출력</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIMIT</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">3</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 6행부터 시작해서 3행 출력</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_gen=<span class="hljs-string" style="color: rgb(75, 139, 139);">'여'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIMIT</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 여자중에 첫 5행 출력</span>

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- json 형식으로 출력 (파이썬 dict 타입으로 입력받기 좋음)</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> JSON_OBJECT(<span class="hljs-string" style="color: rgb(75, 139, 139);">'jikwon_no'</span>,jikwon_no,<span class="hljs-string" style="color: rgb(75, 139, 139);">'jikwon_name'</span>,jikwon_name) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> jason_data
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(75, 139, 139);">'대리'</span>;</pre></span><br>


		<center><a name = '단일행 함수'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">단일행 함수</span></a></center>

		<span style="font-weight:bold;line-height:2.0em;font-size:1.1em;color:skyblue">문자 함수</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 대문자 소문자로 바꾸기</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">UPPER</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'hello'</span>), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LOWER</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'HELLO'</span>) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> DUAL;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 문자열 연결</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">CONCAT</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'Hello'</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'World'</span>) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> DUAL;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 3번째 문자부터 2개 문자 출력 ('ll' 출력) </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">SUBSTR</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'Hello world'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">3</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">2</span>);  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 문자열 길이 </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">length</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'Hello world'</span>);  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- e 가 몇번째 문자열에 있는지</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">INSTR</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'Hello world'</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'e'</span>);  
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">POSITION</span>( <span class="hljs-string" style="color: rgb(75, 139, 139);">'e'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">IN</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'Hello'</span>);

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 1번째부터 찾아서 e 가 어디있는지 찾아라</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LOCATE</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'e'</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'hello world'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">1</span>); 

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- "***** hello" 출력, RPAD 도 있음</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LPAD</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'hello'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">10</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'*'</span>);  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 양쪽 공백 자르기, 한쪽만 자를거면 LTRIM, RTRIM 사용</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">TRIM</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">' aabb bbaa '</span>); 

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- . 을 - 로 대체</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">REPLACE</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'010.111.1111'</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'.'</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'-'</span>);  </pre></span><br>

		
		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">숫자 함수</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 소수점 둘째 짜리까지 표현, 자릿수 안쓰면 정수만 나옴</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ROUND</span>(<span class="hljs-number" style="color: rgb(180, 90, 60);">45.678</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">2</span>);

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 올림, 내림</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">CEILING</span>(<span class="hljs-number" style="color: rgb(180, 90, 60);">4.7</span>), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FLOOR</span>(<span class="hljs-number" style="color: rgb(180, 90, 60);">4.7</span>);

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 나머지</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">MOD</span>(<span class="hljs-number" style="color: rgb(180, 90, 60);">15</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">2</span>), <span class="hljs-number" style="color: rgb(180, 90, 60);">15</span> % <span class="hljs-number" style="color: rgb(180, 90, 60);">2</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">15</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">MOD</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">2</span>;

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 가장 큰 수, 가장 작은 수</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">GREATEST</span>(<span class="hljs-number" style="color: rgb(180, 90, 60);">15</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">4</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">21</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">7</span>), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LEAST</span>(<span class="hljs-number" style="color: rgb(180, 90, 60);">15</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">4</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">21</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">7</span>);</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">날짜 함수</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 날짜 출력, 날짜를 숫자로 출력 '20,210,510'</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">CURDATE</span>(), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">CURDATE</span>() + <span class="hljs-number" style="color: rgb(180, 90, 60);">0</span>;

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 날짜 더하기와 날짜 빼기</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> ADDDATE(<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-10'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">3</span>), ADDDATE(<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-10'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">-300</span>);
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">SUBDATE</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-10'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">3</span>), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">SUBDATE</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-10'</span>, <span class="hljs-number" style="color: rgb(180, 90, 60);">-300</span>);

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 특정 시간에 일정한 시간을 추가하기, 시간을 빼려면 DATE_SUB 을 사용한다.</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_ADD</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-built_in" style="color: rgb(180, 90, 60);">INTERVAL</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">MINUTE</span>);
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_ADD</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-10'</span>, <span class="hljs-built_in" style="color: rgb(180, 90, 60);">INTERVAL</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DAY</span>);
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_ADD</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-10'</span>, <span class="hljs-built_in" style="color: rgb(180, 90, 60);">INTERVAL</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">MONTH</span>);

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 시간 간의 차이 보기 (YEARDIFF 같은건 없다)</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATEDIFF</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-string" style="color: rgb(75, 139, 139);">'2017-5-8'</span>);
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">TIMEDIFF</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'23:23:59'</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'21:13:49'</span>);

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- unit : HOUR, ... DAY, WEEK, QUARTER ...</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">TIMESTAMPDIFF</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">QUARTER</span>,<span class="hljs-string" style="color: rgb(75, 139, 139);">'2020-8-1'</span>,<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-1'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 3 반환, 3분기 차이기 때문</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">TIMESTAMPDIFF</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">DAY</span>,<span class="hljs-string" style="color: rgb(75, 139, 139);">'2020-8-1'</span>,<span class="hljs-string" style="color: rgb(75, 139, 139);">'2021-5-1'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">--  273 반환</span>

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 오늘 날짜, 이번달 마지막날, 일년 중 몇번째 날, 주중 몇번째 날 </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">SYSDATE</span>(), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LAST_DAY</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SYSDATE</span>()), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DAYOFYEAR</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SYSDATE</span>()), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DAYOFWEEK</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SYSDATE</span>());

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 날짜형 자료 서식을 이용해서 문자열로 반환</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_FORMAT</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-string" style="color: rgb(75, 139, 139);">'%Y%m%d'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 20210510 반환</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_FORMAT</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-string" style="color: rgb(75, 139, 139);">'%Y년 %m월 %d일'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 2021년 05월 10일 반환</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_FORMAT</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-string" style="color: rgb(75, 139, 139);">'%H:%i:%S'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 시간:분:초</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_FORMAT</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-string" style="color: rgb(75, 139, 139);">'%j'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 일년중 몇번째 날</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_FORMAT</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-string" style="color: rgb(75, 139, 139);">'%a'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- Mon 반환</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_FORMAT</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">NOW</span>(), <span class="hljs-string" style="color: rgb(75, 139, 139);">'%W'</span>);  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- Monday 반환</span>

<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_name, jikwon_ibsail, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">DATE_FORMAT</span>(jikwon_ibsail, <span class="hljs-string" style="color: rgb(75, 139, 139);">'%W'</span>) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIMIT</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 직원 입사일을 입사한 요일로 볼 수 있다</span></pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">기타 함수</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 순위 결정 : rank() over(순서) AS rank ,   (rank 칼럼이 하나 생기고 순위가 적혀있음)</span>
<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- rank() 대신 dense_rank() 를 쓸 수 있는데, 둘의 차이는 같은 등수가 있을때 dense_rank는 같은 등수가 있어도 다음등수 한테 다음 숫자 등수를 적용한다.</span>

<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">rank</span>() <span class="hljs-keyword" style="color: rgb(132, 100, 196);">over</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">ORDER</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BY</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ASC</span>) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">rank</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- nv1(value1, value2) : value1 이 null 이면 value2를 사용. value1, value2는 자료형이 일치</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_no, jikwon_name, nvl(jikwon_jik, <span class="hljs-string" style="color: rgb(75, 139, 139);">'임시직'</span>) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIMIT</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">10</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- null 이면 임시직으로 표시</span>

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- nv12(value1, value2, value3) : value1 이 null 이면 value3를 사용, null 이 아니면 value2 사용</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_no, jikwon_name, nvl2(jikwon_jik, <span class="hljs-string" style="color: rgb(75, 139, 139);">'정규직'</span>, <span class="hljs-string" style="color: rgb(75, 139, 139);">'임시직'</span>) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LIMIT</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">10</span>;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- null 이 아닌건 정규직, null 이면 임시직</span>

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- nullif(value1, value2) : 두개의 값이 일치하면 null, 일치하지 않으면 value1을 반환</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">NULLIF</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">LENGTH</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'abcd'</span>), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LENGTH</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'abc'</span>));  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 4 출력</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">NULLIF</span>(<span class="hljs-keyword" style="color: rgb(132, 100, 196);">LENGTH</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'abcd'</span>), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">LENGTH</span>(<span class="hljs-string" style="color: rgb(75, 139, 139);">'abcd'</span>));  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- null 출력</span></pre></span><br>


		<center><a name = '조건 표현식'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">조건 표현식</span></a></center>

		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">형식1 : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">case 조건 when... then...</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">case</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">10</span> / <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">5</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'안녕'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">2</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'수고'</span><span class="hljs-keyword" style="color: rgb(132, 100, 196);">ELSE</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'잘가'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">END</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">result</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> DUAL;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 수고 출력</span>

<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_name, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">case</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">3000</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'어라 연봉 3000'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> <span class="hljs-number" style="color: rgb(180, 90, 60);">3500</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'흠 3500'</span> 
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">ELSE</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'그외 연봉'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">END</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">result</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;

<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_name, jikwon_pay, jikwon_jik, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">case</span> jikwon_jik <span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'부장'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> jikwon_pay*<span class="hljs-number" style="color: rgb(180, 90, 60);">0.05</span> 
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'과장'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> jikwon_pay*<span class="hljs-number" style="color: rgb(180, 90, 60);">0.04</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">ELSE</span> jikwon_pay*<span class="hljs-number" style="color: rgb(180, 90, 60);">0.03</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">END</span> donation <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;  <span class="hljs-comment" style="color: rgb(101, 93, 93);">-- donation 이라는 새로운 칼럼을 만들어서 거기에다 표시한다</span></pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">형식2 : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">case when ... then...</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_name, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">case</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> jikwon_gen=<span class="hljs-string" style="color: rgb(75, 139, 139);">'남'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'M'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> jikwon_gen=<span class="hljs-string" style="color: rgb(75, 139, 139);">'여'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'F'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">END</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> gender <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;

<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_name, jikwon_pay, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">case</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> (<span class="hljs-number" style="color: rgb(180, 90, 60);">2000</span> - jikwon_pay) &gt; <span class="hljs-number" style="color: rgb(180, 90, 60);">0</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'2000미만'</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> (<span class="hljs-number" style="color: rgb(180, 90, 60);">3000</span> - jikwon_pay) &gt; <span class="hljs-number" style="color: rgb(180, 90, 60);">0</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'2000대'</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> (<span class="hljs-number" style="color: rgb(180, 90, 60);">4000</span> - jikwon_pay) &gt; <span class="hljs-number" style="color: rgb(180, 90, 60);">0</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'3000대'</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> (<span class="hljs-number" style="color: rgb(180, 90, 60);">5000</span> - jikwon_pay) &gt; <span class="hljs-number" style="color: rgb(180, 90, 60);">0</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'4000대'</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">when</span> (<span class="hljs-number" style="color: rgb(180, 90, 60);">6000</span> - jikwon_pay) &gt; <span class="hljs-number" style="color: rgb(180, 90, 60);">0</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">then</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'5000대'</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">ELSE</span> <span class="hljs-string" style="color: rgb(75, 139, 139);">'6000이상'</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">END</span> pay <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;</pre></span><br>


		<center><a name = '복수행 함수'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">복수행 함수</span></a></center>

		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">집계 함수(복수행이 대상)</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 과장들의 합과 평균 </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">sum</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 합, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AVG</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 평균 <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">WHERE</span> jikwon_jik = <span class="hljs-string" style="color: rgb(75, 139, 139);">'과장'</span>;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 최대값, 최소값 </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">MAX</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 최대합, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">MIN</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 최소 <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 표준편차, 분산 </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">STDDEV</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 표준편차, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">VAR_SAMP</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> 분산 <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon; 

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 데이터 갯수  </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">COUNT</span>(*), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">COUNT</span>(jikwon_name), <span class="hljs-keyword" style="color: rgb(132, 100, 196);">COUNT</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">from</span> jikwon;  </pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">그룹 함수 (소계 출력) : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">group by ~ , 그룹 칼럼에는 order by 할 수 없다. 단 최종 반환값에 대한 order by는 가능</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(244, 236, 236); color: rgb(88, 80, 80); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 남여 각각의 급여의 평균 구하기</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> jikwon_gen, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AVG</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">GROUP</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BY</span> jikwon_gen;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 부서별 급여합</span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> buser_num, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">SUM</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">GROUP</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BY</span> buser_num;  

<span class="hljs-comment" style="color: rgb(101, 93, 93);">-- 부서별 급여합이 35000원 이상 </span>
<span class="hljs-keyword" style="color: rgb(132, 100, 196);">SELECT</span> buser_num, <span class="hljs-keyword" style="color: rgb(132, 100, 196);">SUM</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(132, 100, 196);">AS</span> hap <span class="hljs-keyword" style="color: rgb(132, 100, 196);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(132, 100, 196);">GROUP</span> <span class="hljs-keyword" style="color: rgb(132, 100, 196);">BY</span> buser_num <span class="hljs-keyword" style="color: rgb(132, 100, 196);">HAVING</span> hap &gt;= <span class="hljs-number" style="color: rgb(180, 90, 60);">35000</span>;  </pre></span><br>
		<hr>


		<center><a name = 'SQL 문법 - Join'><span style="font-weight:bold;line-height: 5ex;color:navy;font-size: 2em"> 3. SQL 문법 - Join</span></a></center>

		<center><a name = 'Join'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">Join</span></a></center>

		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">Join : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">하나 이상의 테이블에서 데이터 참조. join 대상 테이블에는 공통 칼럼이 있어야 한다</span>



<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- cross join</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_name, buser_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon, buser;  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 한개의 직원 이름당 모든 부서이름 매칭해서 출력</span>

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- EQUI join : 조건이 =</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_name, buser_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon, buser <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num=buser_no;
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_name, buser_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INNER</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">JOIN</span> buser <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num=buser_no;  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 결과는 같지만 inner join을 쓴다는것을 명시함</span>


<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- NON-EQUI join : 조건이 = 연산자 제외</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">CREATE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">TABLE</span> paygrade(grade <span class="hljs-built_in" style="color: rgb(0, 134, 179);">INT</span> PRIMARY <span class="hljs-keyword" style="color: rgb(149, 65, 33);">KEY</span>, lpay <span class="hljs-built_in" style="color: rgb(0, 134, 179);">INT</span>, hpay <span class="hljs-built_in" style="color: rgb(0, 134, 179);">INT</span>);  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- pay 의 등급 테이블</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> paygrade <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">1</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">0</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">1999</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> paygrade <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">2</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">2000</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">2999</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> paygrade <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">3</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">3000</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">3999</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> paygrade <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">4</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">4000</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">4999</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> paygrade <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">5</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">5000</span>, <span class="hljs-number" style="color: rgb(64, 160, 112);">9999</span>);

<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay, grade <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon j, paygrade p 
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">on</span> j.jikwon_pay &gt;= p.lpay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AND</span> j.jikwon_pay &lt;= p.hpay;</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">Inner Join : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">두개의 테이블 자료에서 일치하는 경우만 출력. 대응되지 않는 자료는 제외</span>


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 1번 방법 (Oracle 문법)</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> a.jikwon_no, a.jikwon_name, b.buser_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon a, buser b 
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> a.buser_num = b.buser_no <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AND</span> jikwon_no &lt;= <span class="hljs-number" style="color: rgb(64, 160, 112);">3</span>;

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 2번 방법 (ANSI 문법) </span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> a.jikwon_no, a.jikwon_name, b.buser_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon a <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INNER</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">JOIN</span> buser b 
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">on</span> a.buser_num = b.buser_no <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_no &lt;= <span class="hljs-number" style="color: rgb(64, 160, 112);">3</span>;   <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- on 뒤에는 inner join 조건, where 뒤에는 출력 조건, inner은 지워도 됨</span></pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">Outer Join : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">두개의 테이블 자료에서 왼쪽 테이블 자료는 출력. 대응되지 않는 자료는 null로 반환</span>


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_no, jikwon_name, buser_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">LEFT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">OUTER</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">JOIN</span> buser <span class="hljs-keyword" style="color: rgb(149, 65, 33);">ON</span> buser_num = buser_no;  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- jikwon_name 전체출력</span></pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">테이블 세개 Join</span>


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 1번 방법 (Oracle 문법)</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_name, buser_name, gogek_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon, buser, gogek
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon.buser_num = buser.buser_no <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AND</span> jikwon.jikwon_no = gogek.gogek_damsano;

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 2번 방법 (ANSI 문법) </span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_name, buser_name, gogek_name <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">left</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">JOIN</span> buser <span class="hljs-keyword" style="color: rgb(149, 65, 33);">ON</span> jikwon.buser_num = buser.buser_no 
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">left</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">JOIN</span> gogek <span class="hljs-keyword" style="color: rgb(149, 65, 33);">ON</span> jikwon.jikwon_no = gogek.gogek_damsano;</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">Union : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">구조가 일치하는 두 개 이상의 테이블 자료 합치기 (MariaDB는 full join을 지원 안함)</span>


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 테이블 생성</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">CREATE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">TABLE</span> pum1(bun <span class="hljs-built_in" style="color: rgb(0, 134, 179);">INT</span>, pummok <span class="hljs-built_in" style="color: rgb(0, 134, 179);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">20</span>))<span class="hljs-keyword" style="color: rgb(149, 65, 33);">CHARSET</span>=UTF8;
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> pum1 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">1</span>,<span class="hljs-string" style="color: rgb(33, 145, 97);">'귤'</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> pum1 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">2</span>,<span class="hljs-string" style="color: rgb(33, 145, 97);">'바나나'</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> pum1 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">3</span>,<span class="hljs-string" style="color: rgb(33, 145, 97);">'한라봉'</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> pum1;

<span class="hljs-keyword" style="color: rgb(149, 65, 33);">CREATE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">TABLE</span> pum2(<span class="hljs-keyword" style="color: rgb(149, 65, 33);">num</span> <span class="hljs-built_in" style="color: rgb(0, 134, 179);">INT</span>, sangpum <span class="hljs-built_in" style="color: rgb(0, 134, 179);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">20</span>))<span class="hljs-keyword" style="color: rgb(149, 65, 33);">CHARSET</span>=UTF8;
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> pum2 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">10</span>,<span class="hljs-string" style="color: rgb(33, 145, 97);">'수박'</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> pum2 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">20</span>,<span class="hljs-string" style="color: rgb(33, 145, 97);">'토바토'</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> pum2 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">30</span>,<span class="hljs-string" style="color: rgb(33, 145, 97);">'딸기'</span>);
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> pum2 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">VALUES</span>(<span class="hljs-number" style="color: rgb(64, 160, 112);">40</span>,<span class="hljs-string" style="color: rgb(33, 145, 97);">'참외'</span>);

<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> bun <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AS</span> 번호, pummok <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AS</span> 품명 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> pum1 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">UNION</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">num</span>,sangpum <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> pum2;</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">Merge : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">기존에 존재하는 행이 있다면 갱신되고, 없다면 추가된 작업 (Oracle의 merge와는 다르다)</span>


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-keyword" style="color: rgb(149, 65, 33);">CREATE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">TABLE</span> mer_tab <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AS</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_no &lt;= <span class="hljs-number" style="color: rgb(64, 160, 112);">5</span>;
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> mer_tab;</pre>
</span><br>


		<center><a name = 'subquery'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">subquery</span></a></center>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">Subquery : </span>
		<span style="line-height:2.0em;font-size: 1.1em;">질의 속에 질의가 있는 형태 (안쪽 질의 결과를 바깥쪽에서 참조)</span>		


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"># 박치기 직원과 직급이 같은 직원 출력

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 1차원적인 방법</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_jik <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_name = <span class="hljs-string" style="color: rgb(33, 145, 97);">'박치기'</span>;
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_jik = <span class="hljs-string" style="color: rgb(33, 145, 97);">'사원'</span>;

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- subquery 사용 </span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_jik = (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_jik <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_name = <span class="hljs-string" style="color: rgb(33, 145, 97);">'박치기'</span>);</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">사용예시</span>


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 직급이 대리 중 가장 먼저 입사한 직원은?</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_jik = <span class="hljs-string" style="color: rgb(33, 145, 97);">'대리'</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AND</span>
jikwon_ibsail = (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">MIN</span>(jikwon_ibsail) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(33, 145, 97);">'대리'</span>); <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 2013-02-05</span>

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 인천에 근무 하는 직원 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num = (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> buser_no <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> buser <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_loc=<span class="hljs-string" style="color: rgb(33, 145, 97);">'인천'</span>); 

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 인천 이외 지역에 근무하는 직원 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num <span class="hljs-keyword" style="color: rgb(149, 65, 33);">IN</span> (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> buser_no <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> buser <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">NOT</span> buser_loc = <span class="hljs-string" style="color: rgb(33, 145, 97);">'인천'</span>);

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 최부자 고객과 담당직원이 같은 고객자료 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> gogek <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> gogek_damsano = (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> gogek_damsano <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> gogek <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> gogek_name = <span class="hljs-string" style="color: rgb(33, 145, 97);">'최부자'</span>);

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 차일호 고객과 나이가 같은 모든 고객 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> gogek <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SUBSTR</span>(gogek_jumin,<span class="hljs-number" style="color: rgb(64, 160, 112);">1</span>,<span class="hljs-number" style="color: rgb(64, 160, 112);">2</span>)=(<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SUBSTR</span>(gogek_jumin,<span class="hljs-number" style="color: rgb(64, 160, 112);">1</span>,<span class="hljs-number" style="color: rgb(64, 160, 112);">2</span>) 
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> gogek <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> gogek_name = <span class="hljs-string" style="color: rgb(33, 145, 97);">'차일호'</span>);
</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">any, all 연산자 사용</span><br>

		< ANY : subquery 의 반환값중 최대값 보다 작은 ~<br>
		> ANY : subquery 의 반환값중 최소값 보다 큰 ~<br>
		< ALL : subquery 의 반환값중 최소값 보다 작은 ~<br>
		> ALL : subquery 의 반환값중 최대값 보다 큰 ~

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 대리의 최대값 보다 작은 연봉을 받는 직원 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_pay &lt; <span class="hljs-keyword" style="color: rgb(149, 65, 33);">ANY</span>(<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(33, 145, 97);">'대리'</span>);

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 30번 부서의 최고 급여자 보다 급여를 많이 받는 직원?</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_pay &gt; ALL(<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num=<span class="hljs-number" style="color: rgb(64, 160, 112);">30</span>);</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">from 절에 사용하는 subquery</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 전체 평균연봉과 최대 연봉 사이의 연봉을 받는 직원 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon a, (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AVG</span>(jikwon_pay) avgs, <span class="hljs-keyword" style="color: rgb(149, 65, 33);">MAX</span>(jikwon_pay) maxs
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon) b <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> a.jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">BETWEEN</span> b.avgs <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AND</span> b.maxs;

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 각 부서별로 최고 연봉을 받는 직원 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> a.jikwon_no, a.jikwon_name, a.jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon a, (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> buser_num, <span class="hljs-keyword" style="color: rgb(149, 65, 33);">MAX</span>(jikwon_pay) maxpay
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">GROUP</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">BY</span> buser_num) b <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> a.buser_num = b.buser_num <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AND</span> a.jikwon_pay = b.maxpay;</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">group by의 having 절에 subquery</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 부서별 평균연봉 중 20번 부서의 평균연봉보다 큰 자료 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> buser_num, <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AVG</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">GROUP</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">BY</span> buser_num
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">HAVING</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AVG</span>(jikwon_pay) &gt; (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AVG</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num=<span class="hljs-number" style="color: rgb(64, 160, 112);">20</span>);</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">exists 연산자 </span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 직원이 있는 부서 출력 </span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> buser_name, buser_loc <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> buser bu
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">EXISTS</span>(<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-string" style="color: rgb(33, 145, 97);">'imsi'</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num=buser_no);

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 직원이 없는 부서 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> buser_name, buser_loc <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> buser bu
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">not</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">EXISTS</span>(<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-string" style="color: rgb(33, 145, 97);">'imsi'</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> buser_num=buser_no);</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">상관 서브쿼리 :</span> 
		<span style="line-height:2.0em;font-size: 1.1em;">안쪽 질의에서 바깥쪽 질의를 참조하고, 다시 안쪽의 결과를 바깥쪽 질의에 참조하는 형태</span>

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 각 부서의 최대 급여자는? 각 부서별로 최고 연봉을 받은 직원 출력</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon a <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> a.jikwon_pay = (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">MAX</span>(b.jikwon_pay) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon b
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> a.buser_num=b.buser_num);

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 급여순위 3위 이내의 자료 출력(내림차순)</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_name, jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon a
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> <span class="hljs-number" style="color: rgb(64, 160, 112);">3</span> &gt; (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">COUNT</span>(*) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon b <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> b.jikwon_pay &lt; a.jikwon_pay) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AND</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">IS</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">NOT</span> <span class="hljs-literal" style="color: rgb(149, 65, 33);">NULL</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">ORDER</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">BY</span> jikwon_pay <span class="hljs-keyword" style="color: rgb(149, 65, 33);">DESC</span>;
</pre></span><br>

		
		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">subquery를 이용한 create, insert, update, delete</span> 


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; padding: 0.5em; color: rgb(0, 0, 0); background: rgb(248, 248, 255);"><span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- subquery를 이용한 create, insert, update, delete</span>

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- create</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">CREATE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">TABLE</span> jik1 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AS</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon;

<span class="hljs-keyword" style="color: rgb(149, 65, 33);">CREATE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">TABLE</span> jik2 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">AS</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">where</span> <span class="hljs-number" style="color: rgb(64, 160, 112);">1</span>=<span class="hljs-number" style="color: rgb(64, 160, 112);">0</span>;  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 구조만 있는 테이블(칼럼만 생성됨)</span>

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">--insert</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> jik2 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(33, 145, 97);">'과장'</span>;  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 과장 직원 데이터를 입력</span>

<span class="hljs-keyword" style="color: rgb(149, 65, 33);">INSERT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">INTO</span> jik2(jikwon_no,jikwon_name,buser_num,jikwon_jik) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_no,jikwon_name,buser_num,jikwon_jik
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(33, 145, 97);">'대리'</span>;  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 대리 직원 데이터  입력 </span>

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- update</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">UPDATE</span> jik1 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">SET</span> jikwon_jik=(<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> jikwon_jik <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_name=<span class="hljs-string" style="color: rgb(33, 145, 97);">'이순신'</span>) <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_no=<span class="hljs-number" style="color: rgb(64, 160, 112);">2</span>;

<span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- delete</span>
<span class="hljs-keyword" style="color: rgb(149, 65, 33);">DELETE</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> jik1 <span class="hljs-keyword" style="color: rgb(149, 65, 33);">WHERE</span> jikwon_no <span class="hljs-keyword" style="color: rgb(149, 65, 33);">IN</span> (<span class="hljs-keyword" style="color: rgb(149, 65, 33);">SELECT</span> <span class="hljs-keyword" style="color: rgb(149, 65, 33);">DISTINCT</span> gogek_damsano <span class="hljs-keyword" style="color: rgb(149, 65, 33);">FROM</span> gogek);  <span class="hljs-comment" style="color: rgb(64, 128, 128); font-style: italic;">-- 고객을 관리하는 직원을 지우기</span></pre></span><br>
		<hr>





		<center><a name = '데이터베이스'><span style="font-weight:bold;line-height: 5ex;color:navy;font-size: 2em"> 4. 데이터베이스</span></a></center>

		<center><a name = 'Database Transaction'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">Database Transaction</span></a></center><br>

		단위별 데이터 처리를 말함. 논리적인 작업 단위<br>
		insert, update, delete 등의 작업이 있는 경우 변화된 자료에 마무리. commit, rollback을 사용.<br>
		데이터 일관성 보장

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TABLE</span> jiktab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">AS</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SHOW</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VARIABLES</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">LIKE</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'autocommit%'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- autocommit 이 켜져 있는지 확인, TRUE 일때 commit, rollback을 자동으로 갱신한다.</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> autocommit = <span class="hljs-literal" style="color: rgb(159, 113, 60);">FALSE</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- autocommit 을 취소 하는 명령어, 수동으로 전환</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> autocommit = <span class="hljs-literal" style="color: rgb(159, 113, 60);">TRUE</span>;  </pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue"> commit, rollback 연습1</span> 


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> autocommit = <span class="hljs-literal" style="color: rgb(159, 113, 60);">FALSE</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DELETE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jiktab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no =<span class="hljs-number" style="color: rgb(159, 113, 60);">2</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- transaction 시작, command 창에서 확인하면 아직 지워지지 않았음</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">COMMIT</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- transaction 종료, command 창에서도 지워져 있음</span>

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DELETE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jiktab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no =<span class="hljs-number" style="color: rgb(159, 113, 60);">3</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- transaction 시작</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">ROLLBACK</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- transaction 종료, 지워지지 않았음.</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> autocommit = <span class="hljs-literal" style="color: rgb(159, 113, 60);">TRUE</span>; </pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue"> commit, rollback 연습2</span> 


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> autocommit = <span class="hljs-literal" style="color: rgb(159, 113, 60);">FALSE</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">UPDATE</span> jiktab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> jikwon_pay = <span class="hljs-number" style="color: rgb(159, 113, 60);">10000</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no=<span class="hljs-number" style="color: rgb(159, 113, 60);">3</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SAVEPOINT</span> a;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 여기서 한번 저장했음</span>

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">UPDATE</span> jiktab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> jikwon_pay = <span class="hljs-number" style="color: rgb(159, 113, 60);">11000</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no=<span class="hljs-number" style="color: rgb(159, 113, 60);">4</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">ROLLBACK</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TO</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SAVEPOINT</span> a;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- a 지점으로 롤백</span>

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">UPDATE</span> jiktab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> jikwon_pay = <span class="hljs-number" style="color: rgb(159, 113, 60);">12000</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no=<span class="hljs-number" style="color: rgb(159, 113, 60);">5</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">COMMIT</span>;

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- deadlocks : transaction이 종료되지 않으면 DB 서버의 다른 사용자의 진행을 막고 충돌하게 된다.</span>
<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 반드시 commit 이나 rollback 에 의해 transaction이 종료 되도록 해야한다.</span></pre></span><br>


		<center><a name = 'view file'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">view file</span></a></center><br>

		물리적인 테이블을 근거로 select문의 조건을 파일로 작성한 후 view를 실행시켜 테이블 처럼 사용<br>
		물리적인 테이블을 매번 작성하지 않으므로 메모리 절량. 보안을 강화할 수 있다.<br>
		형식 : create [or replace] view 뷰파일명 as select 문

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 새로운 테이블을 만들면 메모리 소모가 큼.</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TABLE</span> abc <span class="hljs-keyword" style="color: rgb(85, 133, 155);">as</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> jikwon_no, jikwon_name, buser_name, buser_tel <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">INNER</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">JOIN</span> buser <span class="hljs-keyword" style="color: rgb(85, 133, 155);">ON</span> buser_num=buser_no <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(72, 153, 99);">'대리'</span>;  

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- view를 사용하면 조건만 파일로 저장되고 테이블 생성 안됨</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VIEW</span> abc <span class="hljs-keyword" style="color: rgb(85, 133, 155);">as</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> jikwon_no, jikwon_name, buser_name, buser_tel <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">INNER</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">JOIN</span> buser <span class="hljs-keyword" style="color: rgb(85, 133, 155);">ON</span> buser_num=buser_no <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(72, 153, 99);">'대리'</span>;  .

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- replace까지 사용하면 view 파일에 덮어씌우기 가능</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">or</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VIEW</span> v_a <span class="hljs-keyword" style="color: rgb(85, 133, 155);">AS</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> jikwon_no, jikwon_name, jikwon_pay <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_ibsail &lt; <span class="hljs-string" style="color: rgb(72, 153, 99);">'2015-12-31'</span>;  

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 뷰파일 지우기</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DROP</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VIEW</span> v_a;  

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 뷰파일 보는법</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> v_a;  

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- view file 목록보기</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SHOW</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FULL</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TABLES</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">IN</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">test</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> table_type <span class="hljs-keyword" style="color: rgb(85, 133, 155);">like</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'view'</span>;  </pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">사용예시</span> 

<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 김씨와 박씨 직원을 view 파일로 만들기</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VIEW</span> v_b <span class="hljs-keyword" style="color: rgb(85, 133, 155);">AS</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_name <span class="hljs-keyword" style="color: rgb(85, 133, 155);">LIKE</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'김%'</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> jikwon_name <span class="hljs-keyword" style="color: rgb(85, 133, 155);">LIKE</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'박%'</span>;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> jikwon_name <span class="hljs-keyword" style="color: rgb(85, 133, 155);">AS</span> 이름, jikwon_pay <span class="hljs-keyword" style="color: rgb(85, 133, 155);">AS</span> 연봉 <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> v_b;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 뷰파일은 테이블과 같이 이런 처리도 가능하다.</span>

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- update, delete, insert</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">UPDATE</span> 뷰파일 <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> jikwon_name=<span class="hljs-string" style="color: rgb(72, 153, 99);">'김치국'</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_name=<span class="hljs-string" style="color: rgb(72, 153, 99);">'김부만'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- view 파일을 갱신하면 원본 자료가 변경된다, 왠만하면 한테이블 씩 변경</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DELETE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> 뷰파일 <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_name = <span class="hljs-string" style="color: rgb(72, 153, 99);">'박하나'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 원본에서도 삭제된다, 그러나 join에 의한 뷰는 삭제 불가</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">INSERT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">INTO</span> 뷰파일 <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VALUES</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">31</span>,<span class="hljs-string" style="color: rgb(72, 153, 99);">'파이썬'</span>,<span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>,<span class="hljs-number" style="color: rgb(159, 113, 60);">9998</span>);  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 원본에서도 추가된다</span></pre></span><br>


		<center><a name = '계정 (사용자)'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">계정 (사용자)</span></a></center><br>

DB 서버를 사용하는 클라이언트에게 별도의 계정을 주고 자신의 계정으로만 DB자료를 공유하도록 할 수 있다.<br>
각 계정별 권한을 자격에 맞게 부여해 권한을 행사


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 계정 생성 ('사용자 계정'@'호스트' IDENTIFIED BY '비밀번호')</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">USER</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'tester1'</span>@<span class="hljs-string" style="color: rgb(72, 153, 99);">'localhost'</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">IDENTIFIED</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">BY</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'1111'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 로컬 접속 계정</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">USER</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'tester2'</span>@<span class="hljs-string" style="color: rgb(72, 153, 99);">'%'</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">IDENTIFIED</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">BY</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'2222'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 원격 접속 계정</span>

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 계정의 권한 보기</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SHOW</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">GRANTS</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FOR</span> tester1@localhost;

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 권한 부여</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">GRANT</span> ALL <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PRIVILEGES</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">ON</span> *.* <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TO</span> tester@localhost <span class="hljs-keyword" style="color: rgb(85, 133, 155);">IDENTIFIED</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">BY</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'1111'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 모든 권한 다주기</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">GRANT</span> ALL <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PRIVILEGES</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">ON</span> ourdb.* <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TO</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'testuser1'</span>@<span class="hljs-string" style="color: rgb(72, 153, 99);">'localhost'</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">FLUSH</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PRIVILEGES</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 권한 설정을 새롭게 반영 (새로고침)</span>

 <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 모든 사용자 목록 보기</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">USER</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> mysql.user; 

<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 계정 삭제</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DROP</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">USER</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'tester1'</span>@<span class="hljs-string" style="color: rgb(72, 153, 99);">'localhost'</span>;</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">사용예시</span>


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">DATABASE</span> ourdb;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 데이터 베이스 생성</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">USE</span> ourdb;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TABLE</span> abctab(<span class="hljs-keyword" style="color: rgb(85, 133, 155);">NO</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span> PRIMARY <span class="hljs-keyword" style="color: rgb(85, 133, 155);">KEY</span>, <span class="hljs-keyword" style="color: rgb(85, 133, 155);">NAME</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>));
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">INSERT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">INTO</span> abctab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VALUES</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">1</span>,<span class="hljs-string" style="color: rgb(72, 153, 99);">'aa'</span>);
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">INSERT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">INTO</span> abctab <span class="hljs-keyword" style="color: rgb(85, 133, 155);">VALUES</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">2</span>,<span class="hljs-string" style="color: rgb(72, 153, 99);">'bb'</span>);

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">GRANT</span> ALL <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PRIVILEGES</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">ON</span> ourdb.* <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TO</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'testuser1'</span>@<span class="hljs-string" style="color: rgb(72, 153, 99);">'localhost'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- ourdb 데이터베이스 사용의 모든 권한을 줌</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">GRANT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span>, <span class="hljs-keyword" style="color: rgb(85, 133, 155);">INSERT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">ON</span> ourdb.* <span class="hljs-keyword" style="color: rgb(85, 133, 155);">TO</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'testuser2'</span>@<span class="hljs-string" style="color: rgb(72, 153, 99);">'localhost'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- ourdb 데이터베이스 안의 select, insert 권한을 줌</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">FLUSH</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PRIVILEGES</span>;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">REVOKE</span> ALL <span class="hljs-keyword" style="color: rgb(85, 133, 155);">ON</span> ourdb.* <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> <span class="hljs-string" style="color: rgb(72, 153, 99);">'testuser1'</span>@<span class="hljs-string" style="color: rgb(72, 153, 99);">'localhost'</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- ourdb 데이터베이스 사용의 모든 권한을 뺏음</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">FLUSH</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PRIVILEGES</span>;</pre></span><br>



		<center><a name = 'Stored procedure (저장 프로시저)'><span style="font-weight:bold;color:purple;line-height:2.0em;font-size: 1.5em;">Stored procedure (저장 프로시저)</span></a></center><br>

		SQL문의 집합으로 어떠한 동작을 일괄처리하기 위해 사용. 프로그래밍 가능<br>
		절차적인 프로그래밍이 가능하며 PL / SQL 이라고도 한다<br>
		DECLARE(선언부) ~ BEGIN(실행부) ~ EXCEPTION(예외처리부) ~ END 로 이루어 진다


<span style="font-size:1.1em ">
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-keyword" style="color: rgb(85, 133, 155);">SHOW</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PROCEDURE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">STATUS</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- procedure 목록 확인</span>

DELIMITER //      <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 구분문자를 // 로 바꾼다</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PROCEDURE</span> sp_1(a <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>, b <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>)
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> X, Y <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">DEFAULT</span> <span class="hljs-number" style="color: rgb(159, 113, 60);">0</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 변수 선언. 대소문자 구분 안함</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> X = <span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> X, Y;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> a + b;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>;
//    <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 여기까지 프로시저 라는 뜻임</span>
DELIMITER ;    <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 구분문자를 ; 로 바꾼다</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CALL</span> sp_1(<span class="hljs-number" style="color: rgb(159, 113, 60);">1</span>,<span class="hljs-number" style="color: rgb(159, 113, 60);">3</span>);


<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 테이블과 연동</span>
DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PROCEDURE</span> sp_2(ar1 <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>, ar2 <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>)
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no = ar1;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no = ar2;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>
//
DELIMITER ;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CALL</span> sp_2(<span class="hljs-number" style="color: rgb(159, 113, 60);">6</span>, <span class="hljs-number" style="color: rgb(159, 113, 60);">9</span>);
</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">if 문 사용 </span>


<span style="font-size:1.1em ">	
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;">DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PROCEDURE</span> sp_3(<span class="hljs-keyword" style="color: rgb(85, 133, 155);">IN</span> jik <span class="hljs-built_in" style="color: rgb(159, 113, 60);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">20</span>) <span class="hljs-keyword" style="color: rgb(85, 133, 155);">CHARSET</span> utf8, <span class="hljs-keyword" style="color: rgb(85, 133, 155);">num</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>)  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- IN은 입력용이라는 의미, OUT은 출력용</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> jik;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_jik = jik;
if(num = 10) then
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> buser_num = <span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>;
ELSEIF (num = 20) then
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> buser_num = <span class="hljs-number" style="color: rgb(159, 113, 60);">20</span>;
ELSE
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> * <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> buser_num != <span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">if</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>
//
DELIMITER ;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CALL</span> sp_3(<span class="hljs-string" style="color: rgb(72, 153, 99);">'대리'</span>, <span class="hljs-number" style="color: rgb(159, 113, 60);">20</span>);</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">while 문 사용</span>


<span style="font-size:1.1em ">	
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;">DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PROCEDURE</span> sp_4()
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> X <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">255</span>);
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> X = <span class="hljs-number" style="color: rgb(159, 113, 60);">1</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span> = <span class="hljs-string" style="color: rgb(72, 153, 99);">''</span>;

while X &lt;= 5 <span class="hljs-keyword" style="color: rgb(85, 133, 155);">DO</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span> = <span class="hljs-keyword" style="color: rgb(85, 133, 155);">CONCAT</span>(<span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span>, X, <span class="hljs-string" style="color: rgb(72, 153, 99);">','</span>);
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> X = X + <span class="hljs-number" style="color: rgb(159, 113, 60);">1</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">while</span>;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>
//
DELIMITER ;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CALL</span> sp_4;</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">repeat 문 사용</span>


<span style="font-size:1.1em ">	
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;">DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">PROCEDURE</span> sp_5()
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> X <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">255</span>);
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> X = <span class="hljs-number" style="color: rgb(159, 113, 60);">1</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span> = <span class="hljs-string" style="color: rgb(72, 153, 99);">''</span>;

repeat
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span> = <span class="hljs-keyword" style="color: rgb(85, 133, 155);">CONCAT</span>(<span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span>, X, <span class="hljs-string" style="color: rgb(72, 153, 99);">','</span>);
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> X = X + <span class="hljs-number" style="color: rgb(159, 113, 60);">1</span>;
until X &gt; 5
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">repeat</span>;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">str</span>;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>
//
DELIMITER ;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CALL</span> sp_5;</pre></span><br>


		<span style="font-weight:bold;line-height:2.0em;font-size: 1.1em;color:skyblue">사용자 정의 함수</span>


<span style="font-size:1.1em ">	
<pre class="hljs" style="display: block; overflow-x: auto; background: rgb(236, 244, 238); color: rgb(82, 96, 87); padding: 0.5em;"><span class="hljs-comment" style="color: rgb(95, 109, 100);">-- bmi 계산</span>
DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FUNCTION</span> fu1(height <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>) <span class="hljs-keyword" style="color: rgb(85, 133, 155);">RETURNS</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">DOUBLE</span>  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- double은 실수 type을 의미함</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">RETURN</span> height * height * <span class="hljs-number" style="color: rgb(159, 113, 60);">22</span> / <span class="hljs-number" style="color: rgb(159, 113, 60);">10000</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- bmi = 22 일때 적정 몸무게 출력</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>;
//
DELIMITER ;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> fu1(<span class="hljs-number" style="color: rgb(159, 113, 60);">187</span>);


<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 직원 전체의 연봉 평균 계산 함수</span>
DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FUNCTION</span> fu2() <span class="hljs-keyword" style="color: rgb(85, 133, 155);">RETURNS</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">DOUBLE</span>  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- double은 실수 type을 의미함</span>
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> r <span class="hljs-keyword" style="color: rgb(85, 133, 155);">DOUBLE</span>;  <span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 변수 설정</span>
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">AVG</span>(jikwon_pay) <span class="hljs-keyword" style="color: rgb(85, 133, 155);">INTO</span> r <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon;
	RETURN r;  
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>;
//
DELIMITER ;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> fu2();


<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 각 직원 연봉의 10% 반환</span>
DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FUNCTION</span> fu3(<span class="hljs-keyword" style="color: rgb(85, 133, 155);">NO</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">int</span>) <span class="hljs-keyword" style="color: rgb(85, 133, 155);">RETURNS</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span> 
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
   <span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> pay <span class="hljs-built_in" style="color: rgb(159, 113, 60);">INT</span>;
   <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SET</span> pay = <span class="hljs-number" style="color: rgb(159, 113, 60);">0</span>;
   <span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> jikwon_pay * <span class="hljs-number" style="color: rgb(159, 113, 60);">0.1</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">INTO</span> pay <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_no = <span class="hljs-keyword" style="color: rgb(85, 133, 155);">no</span>;
   RETURN pay;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>
//
DELIMITER ;

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> fu3(<span class="hljs-number" style="color: rgb(159, 113, 60);">3</span>);


<span class="hljs-comment" style="color: rgb(95, 109, 100);">-- 부서번호를 입력하면 부서명 반환</span>
DELIMITER //
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">CREATE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">OR</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">REPLACE</span> <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FUNCTION</span> fu4(BNO <span class="hljs-built_in" style="color: rgb(159, 113, 60);">int</span>) <span class="hljs-keyword" style="color: rgb(85, 133, 155);">RETURNS</span> <span class="hljs-built_in" style="color: rgb(159, 113, 60);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>) <span class="hljs-keyword" style="color: rgb(85, 133, 155);">CHARSET</span> UTF8
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">BEGIN</span>
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">DECLARE</span> bname <span class="hljs-built_in" style="color: rgb(159, 113, 60);">VARCHAR</span>(<span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>) <span class="hljs-keyword" style="color: rgb(85, 133, 155);">CHARSET</span> UTF8;
	<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> buser_name <span class="hljs-keyword" style="color: rgb(85, 133, 155);">INTO</span> bname <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> buser <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> buser_no=BNO;
	RETURN bname;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">END</span>
//
DELIMITER ;
<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> fu4(<span class="hljs-number" style="color: rgb(159, 113, 60);">10</span>);

<span class="hljs-keyword" style="color: rgb(85, 133, 155);">SELECT</span> jikwon_no, jikwon_name, fu4(buser_num), jikwon_pay <span class="hljs-keyword" style="color: rgb(85, 133, 155);">FROM</span> jikwon <span class="hljs-keyword" style="color: rgb(85, 133, 155);">WHERE</span> jikwon_jik=<span class="hljs-string" style="color: rgb(72, 153, 99);">'대리'</span>;</pre></span><br>

	</body>										
</html>									




